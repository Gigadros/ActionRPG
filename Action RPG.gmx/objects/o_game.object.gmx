<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Initialize the game object
global.one_second = room_speed;
instance_create(0, 0, o_input);

var _font_string = "ABCDEFGHIJKLMNOPQRSTUVWXYZ.abcdefghijklmnopqrstuvwxyz1234567890&gt;,!':-+";
global.font = font_add_sprite_ext(s_font, _font_string, true, 1);
draw_set_font(global.font);

global.player_max_health = 4;
global.player_health = global.player_max_health;
global.player_max_stamina = 3;
global.player_stamina = global.player_max_stamina;
global.player_gems = 0;
global.player_start_position = i_game_start;

audio_play_sound(a_music, 10, false);

display_set_gui_size(view_wview[0], view_hview[0]);

paused_ = false;
paused_sprite_ = noone;
paused_sprite_scale_ = display_get_gui_width() / view_wport[0];

global.item[0] = noone;
global.item[1] = noone;
item_index_ = 0;

inventory_create(6);
inventory_add_item(o_ring_item);
inventory_add_item(o_sword_item);
inventory_add_item(o_bomb_item);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if paused_ {
    var _array_size = array_length_1d(global.inventory);
    if o_input.right_pressed_ {
        item_index_ = min(item_index_+1, _array_size-1);
        audio_play_sound(a_menu_move, 1, false);
    }
    if o_input.left_pressed_ {
        item_index_ = max(item_index_-1, 0);
        audio_play_sound(a_menu_move, 1, false);
    }
    if o_input.action_one_pressed_ {
        global.item[0] = global.inventory[item_index_];
        audio_play_sound(a_menu_select, 3, false);
    }
    if o_input.action_two_pressed_ {
        global.item[1] = global.inventory[item_index_];
        audio_play_sound(a_menu_select, 3, false);
    }

}

if o_input.pause_pressed_ {
    if paused_ {
        paused_ = false;
        if sprite_exists(paused_sprite_) {
            sprite_delete(paused_sprite_);
        }
        instance_activate_all();
        audio_play_sound(a_unpause, 5, false);
    } else {
        paused_ = true;
        paused_sprite_ = sprite_create_from_surface(application_surface, 0, 0, view_wport[0], view_hport[0], false, false, 0, 0);
        instance_deactivate_all(true);
        var _array_size = array_length_1d(global.inventory);
        for (var _i = 0; _i &lt; _array_size; _i++) {
            instance_activate_object(global.inventory[_i]);
        }
        instance_activate_object(o_input);
        audio_play_sound(a_pause, 5, false);
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_exists(global.player_start_position){
    if instance_exists(o_player) {
        o_player.persistent = false;
        o_player.x = global.player_start_position.x;
        o_player.y = global.player_start_position.y;
        o_camera.x = o_player.x;
        o_camera.y = o_player.y - 8;
    } else {
        var _start_x = global.player_start_position.x;
        var _start_y = global.player_start_position.y;
        instance_create(_start_x, _start_y, o_player);
    }
    global.player_start_position = noone;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>room_goto_next();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
var _gui_width = display_get_gui_width();
var _gui_height = display_get_gui_height();

if sprite_exists(paused_sprite_) {
    draw_sprite_ext(paused_sprite_, 0, 0, 0, paused_sprite_scale_, paused_sprite_scale_, 0, c_white, 1);
    draw_set_alpha(0.6);
    draw_rectangle_color(0, 0, _gui_width, _gui_height, c_black, c_black, c_black, c_black, false);
    draw_set_alpha(1);
}

var _hud_right_edge = max(3+global.player_max_health*15, 2+global.player_max_stamina*17);
draw_sprite_ext(s_hud, 0, 0, _gui_height, _hud_right_edge, 1, 0, c_white, 1);
draw_sprite(s_hud_edge, 0, _hud_right_edge, _gui_height);

for (var _i=0; _i&lt;global.player_max_health; _i++) {
    var _filled = _i &lt; global.player_health;
    draw_sprite(s_heart_ui, _filled, 4+15*_i, _gui_height-29);
}

for (var _i=0; _i&lt;global.player_max_stamina; _i++) {
    var _filled = _i &lt; global.player_stamina;
    draw_sprite(s_stamina_ui, _filled, 4+17*_i, _gui_height-17);
}

var _gem_string = string(global.player_gems);
var _text_width = string_width(_gem_string);
var _x = _gui_width - _text_width+4;
var _y = _gui_height - 16 + 4;
draw_sprite(s_gem, 0, _x-16, _y+7);
draw_text(_x-8, _y-1, _gem_string);

inventory_draw(4, 36);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
